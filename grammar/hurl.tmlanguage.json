{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Hurl",
  "scopeName": "source.hurl",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#sections"
    },
    {
      "include": "#http"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#body"
    },
    {
      "include": "#request"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.number-sign.hurl",
          "match": "#.*$"
        }
      ]
    },
    "sections": {
      "patterns": [
        {
          "name": "entity.name.section.hurl",
          "match": "^\\s*\\[(QueryStringParams|Query|FormParams|Form|MultipartFormData|Multipart|Cookies|Captures|Asserts|BasicAuth|Options)\\]"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.hurl",
          "match": "\"(\\\\.|[^\"\\\\])*\"",
          "patterns": [
            {
              "include": "#escapes"
            }
          ]
        }
      ]
    },
    "placeholders": {
      "patterns": [
        {
          "begin": "(\\{\\{)\\s*",
          "end": "\\s*(\\}\\})",
          "beginCaptures": {
            "1": {
              "name": "string.interpolated.hurl"
            }
          },
          "endCaptures": {
            "1": {
              "name": "string.interpolated.hurl"
            }
          },
          "contentName": "variable.other.hurl"
        }
      ]
    },
    "escapes": {
      "patterns": [
        {
          "name": "constant.character.escape.hurl",
          "match": "\\\\[\\\\\"`#btnru]"
        }
      ]
    },
    "http": {
      "patterns": [
        {
          "match": "\\b(HTTP(\\/1\\.0|\\/1\\.1|\\/2)?)([ \\t]+([0-9]{3}))?\\b",
          "captures": {
            "1": {
              "name": "constant.language.version.hurl"
            },
            "3": {
              "name": "constant.numeric.status.hurl"
            }
          }
        }
      ]
    },
    "request": {
      "patterns": [
        {
          "name": "keyword.control.method.hurl",
          "match": "\\b(GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS|TRACE|CONNECT)\\b"
        },
        {
          "name": "string.quoted.url.hurl",
          "begin": "(https?:\\/\\/[^ \\t\\n]+)",
          "beginCaptures": {
            "1": {
              "name": "string.quoted.url.hurl"
            }
          },
          "end": "(?=$|[ \\t])",
          "patterns": [
            {
              "include": "#placeholders"
            }
          ]
        },
        {
          "name": "entity.name.tag.header.hurl",
          "begin": "^([A-Za-z0-9-]+)(:)\\s*",
          "beginCaptures": {
            "1": {
              "name": "entity.name.tag.header.hurl"
            },
            "2": {
              "name": "punctuation.separator.key-value.hurl"
            }
          },
          "end": "$",
          "patterns": [
            {
              "include": "#placeholders"
            }
          ]
        }
      ]
    },
    "body": {
      "patterns": [
        {
          "name": "meta.embedded.block.graphql.hurl",
          "contentName": "source.graphql",
          "begin": "```graphql(,\\w+)*$",
          "end": "```$",
          "beginCaptures": {
            "1": {
              "name": "support.type"
            }
          }
        },
        {
          "name": "meta.embedded.block.xml.hurl",
          "contentName": "text.xml",
          "begin": "```xml(,\\w+)*$",
          "end": "```$",
          "beginCaptures": {
            "1": {
              "name": "support.type"
            }
          }
        },
        {
          "name": "meta.embedded.block.json.hurl",
          "contentName": "text.json",
          "begin": "```json(,\\w+)*$",
          "end": "```$",
          "beginCaptures": {
            "1": {
              "name": "support.type"
            }
          }
        },
        {
          "name": "string.quoted.multiline.hurl",
          "contentName": "text.plain",
          "begin": "```hex(,\\w+)*$",
          "end": "```$",
          "beginCaptures": {
            "1": {
              "name": "support.type"
            }
          }
        },
        {
          "name": "string.quoted.multiline.hurl",
          "contentName": "text.plain",
          "begin": "```base64(,\\w+)*$",
          "end": "```$",
          "beginCaptures": {
            "1": {
              "name": "support.type"
            }
          }
        },
        {
          "name": "string.quoted.multiline.hurl",
          "begin": "```([^,]*)(,\\w+)*$",
          "end": "```$",
          "beginCaptures": {
            "1": {
              "name": "support.type"
            },
            "2": {
              "name": "support.type"
            }
          }
        },
        {
          "name": "string.quoted.backtick.hurl",
          "match": "`(\\\\.|[^`\\\\])*`",
          "patterns": [
            {
              "include": "#escapes"
            }
          ]
        },
        {
          "name": "support.function",
          "begin": "\\b(base64|hex),",
          "end": ";",
          "contentName": "text.plain",
          "beginCaptures": {
            "1": {
              "name": "support.function.name"
            }
          },
          "endCaptures": {
            "0": {
              "name": "support.function"
            }
          },
          "patterns": [
            {
              "include": "#placeholders"
            }
          ]
        }
      ]
    }
  }
}
